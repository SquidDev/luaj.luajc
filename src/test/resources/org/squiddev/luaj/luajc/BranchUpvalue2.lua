local upvalue

local function closure()
	return upvalue
end

while true do
	if "const" ~= "const" then
		upvalue = "const"
	else
		for loop_num = "const", "const" do
			for loop_iter in func() do
				func(loop_num + loop_iter)
			end
		end
	end
end
